(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{"9bb7":function(e,t,s){},ac2a:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("nv-header",{attrs:{fn:e.back,title:e.isRegister?"注册":"登陆"}}),e._m(0),s("div",{staticClass:"from-list"},[s("mt-field",{attrs:{label:"手机号",placeholder:"请输入手机号",type:"tel"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),s("mt-field",{directives:[{name:"show",rawName:"v-show",value:e.isRegister,expression:"isRegister"}],attrs:{label:"身份证号码",placeholder:"身份证号码",type:"number"},model:{value:e.identity,callback:function(t){e.identity=t},expression:"identity"}}),s("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("mt-field",{directives:[{name:"show",rawName:"v-show",value:e.isRegister,expression:"isRegister"}],attrs:{label:"密码",placeholder:"再次输入密码",type:"password"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),s("div",{staticClass:"buttonList"},[s("mt-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return e.register(t)}}},[e._v("注册")]),s("mt-button",{directives:[{name:"show",rawName:"v-show",value:!e.isRegister,expression:"!isRegister"}],attrs:{type:"primary"},nativeOn:{click:function(t){return e.login(t)}}},[e._v("登陆")])],1)],1)],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"log-img"},[s("i",{staticClass:"fa fa-ravelry fa-5x"})])}],n=(s("2447"),s("36d7")),r=s.n(n),o=s("d5db"),l=s("2dee"),d=s("f9fa"),c=s("7617");function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var u={name:"Login",data:function(){return{identity:"",phone:"",password:"",password2:"",isRegister:!1}},methods:{verify:function(){return l["b"].isMobile(this.phone)?!l["b"].passwordValid(this.password)&&(Object(d["a"])("密码输入错误"),!0):(Object(d["a"])("手机输入错误"),!0)},register:function(){var e=this;this.isRegister?this.verify()||(l["b"].identityValid(this.identity)?l["b"].passwordValid(this.password2)?this.password2===this.password?s.e("chunk-3d7296d5").then(s.t.bind(null,"8237",7)).then(function(t){o["a"].post("/register",{phone:e.phone,password:t.default(e.password2),identity:e.identity}).then(function(t){t&&t.data&&t.data.token&&(Object(c["d"])(t.data.token),e.$router.replace("/user"))})}):Object(d["a"])("两次密码输入不一致"):Object(d["a"])("再次输入密码错误"):Object(d["a"])("身份证号码错误")):this.isRegister=!0},back:function(){this.isRegister?this.isRegister=!1:this.$router.back()},login:function(){var e=this;this.verify()||s.e("chunk-3d7296d5").then(s.t.bind(null,"8237",7)).then(function(t){o["a"].post("/login",{phone:e.phone,password:t.default(e.password)}).then(function(t){t&&t.data&&t.data.token&&(console.log(Object(c["d"])(t.data.token)),e.$router.replace("/user"))})})}},components:p({},r.a.name,r.a)},h=u,f=(s("f337"),s("2877")),b=Object(f["a"])(h,i,a,!1,null,"13a1dec1",null);t["default"]=b.exports},f337:function(e,t,s){"use strict";var i=s("9bb7"),a=s.n(i);a.a}}]);
//# sourceMappingURL=Login.f40881b3.js.map