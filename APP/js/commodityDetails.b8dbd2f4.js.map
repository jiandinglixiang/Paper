{"version":3,"sources":["webpack:///./src/views/home/CommodityDetails.vue?8508","webpack:///src/views/home/CommodityDetails.vue","webpack:///./src/views/home/CommodityDetails.vue?ccf1","webpack:///./src/views/home/CommodityDetails.vue","webpack:///./src/views/home/CommodityDetails.vue?270c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","fixed","src","details","info","portrait","alt","_v","_s","name","price","staticStyle","font-size","brandNew","content","_l","n","index","key","status","text-align","padding","color","isMeOrder","disabled","addTxt","placeholder","logistics","odd","label","type","model","value","callback","$$v","$set","expression","oddName","margin","size","nativeOn","click","$event","openExpressage","confirmExpressage","_e","location","phone","to","path","query","id","delTreasure","purchase","staticRenderFns","CommodityDetailsvue_type_script_lang_js_","data","imgList","LookNumber","computed","_objectSpread","Object","vuex_esm","token","state","user","logisticsTxt","methods","_this","console","log","balance","http","post","$route","then","getDetails","toast","$router","push","_this2","_this3","_this4","_this5","get","created","home_CommodityDetailsvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CommodityDetails_vue_vue_type_style_index_0_id_a7bbda52_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CommodityDetails_vue_vue_type_style_index_0_id_a7bbda52_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/commodityDetails.b8dbd2f4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Commodity-Details\"},[_c('nv-header',{attrs:{\"title\":\"商品详情\",\"fixed\":true}}),_c('div',{staticClass:\"info-data\"},[_c('img',{attrs:{\"src\":_vm.details.info.portrait,\"alt\":\"\"}}),_c('div',[_c('p',[_vm._v(\"发布者:\")]),_c('p',[_vm._v(_vm._s(_vm.details.info.name))])])]),_c('p',{staticClass:\"details-money\"},[_vm._v(\"¥\"+_vm._s(_vm.details.price)+\"元 \"),_c('span',{staticStyle:{\"font-size\":\"0.8em\"}},[_vm._v(\"包邮\")])]),_c('div',{staticClass:\"details-Content\"},[_c('span',[_vm._v(_vm._s(_vm.details.brandNew>0? '全新':'非全新'))]),_c('p',[_vm._v(\"\\n      \"+_vm._s(_vm.details.content)+\"\\n    \")])]),_c('ul',{staticClass:\"img-List\"},_vm._l((_vm.details.imgList),function(n,index){return _c('li',{key:index},[_c('img',{attrs:{\"src\":n,\"alt\":\"\"}})])}),0),(_vm.isMeOrder)?_c('div',[(_vm.details.status*1===3)?_c('div',{staticStyle:{\"text-align\":\"center\",\"padding\":\"10%\",\"color\":\"black\",\"font-size\":\"1.5em\"}},[_vm._v(\"宝贝已下架\\n    \")]):(_vm.isMeOrder&&_vm.details.status>0)?[(_vm.logisticsTxt)?_c('div',{staticClass:\"odd-info\"},[_c('mt-cell',{attrs:{\"title\":\"物流信息\"}}),_c('mt-field',{attrs:{\"disabled\":!(_vm.addTxt&&_vm.isMeOrder===1),\"placeholder\":_vm.details.logistics.odd ? _vm.details.logistics.odd:\"等待发货...\",\"label\":\"快递单号:\",\"type\":\"text\"},model:{value:(_vm.logistics.odd),callback:function ($$v) {_vm.$set(_vm.logistics, \"odd\", $$v)},expression:\"logistics.odd\"}}),_c('mt-field',{attrs:{\"disabled\":!(_vm.addTxt&&_vm.isMeOrder===1),\"placeholder\":_vm.details.logistics.oddName ? _vm.details.logistics.oddName:'如:顺丰',\"label\":\"快递名称:\",\"type\":\"text\"},model:{value:(_vm.logistics.oddName),callback:function ($$v) {_vm.$set(_vm.logistics, \"oddName\", $$v)},expression:\"logistics.oddName\"}}),_c('div',{staticStyle:{\"margin\":\"10px\"}},[(_vm.isMeOrder===1&&_vm.addTxt)?_c('mt-button',{attrs:{\"size\":\"large\",\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.openExpressage($event)}}},[_vm._v(_vm._s(_vm.details.logistics.odd? '修改物流':\"物流发货\")+\"\\n          \")]):(_vm.details.status*1===2&&_vm.isMeOrder===2)?_c('mt-button',{attrs:{\"size\":\"large\",\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.confirmExpressage($event)}}},[_vm._v(\"确认收货\\n          \")]):_vm._e()],1)],1):_vm._e(),_c('mt-cell',{attrs:{\"value\":_vm.details.logistics.location,\"title\":\"寄送地址:\"}}),_c('div',{staticClass:\"info-data\"},[_c('img',{attrs:{\"src\":_vm.details.logistics.portrait,\"alt\":\"\"}}),_c('div',[_c('p',[_vm._v(\"购买者: \"),_c('span',[_vm._v(_vm._s(_vm.details.logistics.name))])]),_c('p',[_vm._v(_vm._s(_vm.details.logistics.phone))])])])]:_vm._e()],2):_vm._e(),_c('router-link',{staticClass:\"leaveA-message\",attrs:{\"to\":{path:'/publish/leaveAMessage',query:{id:_vm.details.id}}}},[_vm._v(\"\\n    查看留言内容\\n  \")]),_c('div',[(_vm.details.status*1===0&&_vm.isMeOrder===1)?_c('mt-button',{attrs:{\"type\":\"danger\",\"size\":\"large\"},nativeOn:{\"click\":function($event){return _vm.delTreasure($event)}}},[_vm._v(\"下架宝贝\\n    \")]):(_vm.details.status*1===0&&!_vm.isMeOrder)?_c('mt-button',{attrs:{\"type\":\"danger\",\"size\":\"large\"},nativeOn:{\"click\":function($event){return _vm.purchase($event)}}},[_vm._v(\"购买宝贝\\n    \")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Commodity-Details\">\r\n    <nv-header title=\"商品详情\" :fixed=\"true\"></nv-header>\r\n    <div class=\"info-data\">\r\n      <img :src=\"details.info.portrait\" alt=\"\">\r\n      <div>\r\n        <p>发布者:</p>\r\n        <p>{{details.info.name}}</p>\r\n      </div>\r\n    </div>\r\n    <p class=\"details-money\">¥{{details.price}}元 <span style=\"font-size: 0.8em\">包邮</span></p>\r\n    <div class=\"details-Content\">\r\n      <span>{{details.brandNew>0? '全新':'非全新'}}</span>\r\n      <p>\r\n        {{details.content}}\r\n      </p>\r\n    </div>\r\n    <ul class=\"img-List\">\r\n      <li v-for=\"(n,index) in details.imgList\" :key=\"index\">\r\n        <img :src=\"n\" alt=\"\">\r\n      </li>\r\n    </ul>\r\n    <div v-if=\"isMeOrder\">\r\n      <div style=\"text-align: center;padding: 10%;color: black;font-size: 1.5em;\" v-if=\"details.status*1===3\">宝贝已下架\r\n      </div>\r\n      <template v-else-if=\"isMeOrder&&details.status>0\">\r\n        <div class=\"odd-info\" v-if=\"logisticsTxt\">\r\n          <mt-cell title=\"物流信息\"></mt-cell>\r\n          <mt-field :disabled=\"!(addTxt&&isMeOrder===1)\"\r\n                    :placeholder=\"details.logistics.odd ? details.logistics.odd:`等待发货...`\"\r\n                    label=\"快递单号:\"\r\n                    type=\"text\"\r\n                    v-model=\"logistics.odd\"></mt-field>\r\n          <mt-field :disabled=\"!(addTxt&&isMeOrder===1)\"\r\n                    :placeholder=\"details.logistics.oddName ? details.logistics.oddName:'如:顺丰'\"\r\n                    label=\"快递名称:\"\r\n                    type=\"text\"\r\n                    v-model=\"logistics.oddName\"></mt-field>\r\n          <div style=\"margin: 10px\">\r\n            <mt-button @click.native=\"openExpressage\" size=\"large\" type=\"primary\"\r\n                       v-if=\"isMeOrder===1&&addTxt\">{{details.logistics.odd? '修改物流':`物流发货`}}\r\n            </mt-button>\r\n            <mt-button @click.native=\"confirmExpressage\" size=\"large\" type=\"primary\"\r\n                       v-else-if=\"details.status*1===2&&isMeOrder===2\">确认收货\r\n            </mt-button>\r\n          </div>\r\n        </div>\r\n        <mt-cell :value=\"details.logistics.location\" title=\"寄送地址:\"></mt-cell>\r\n        <div class=\"info-data\">\r\n          <img :src=\"details.logistics.portrait\" alt=\"\">\r\n          <div>\r\n            <p>购买者: <span>{{details.logistics.name}}</span></p>\r\n            <p>{{details.logistics.phone}}</p>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </div>\r\n    <router-link :to=\"{path:'/publish/leaveAMessage',query:{id:details.id}}\" class=\"leaveA-message\">\r\n      查看留言内容\r\n    </router-link>\r\n    <div>\r\n      <mt-button v-if=\"details.status*1===0&&isMeOrder===1\"\r\n                 type=\"danger\"\r\n                 size=\"large\"\r\n                 @click.native=\"delTreasure\">下架宝贝\r\n      </mt-button>\r\n      <mt-button v-else-if=\"details.status*1===0&&!isMeOrder\"\r\n                 type=\"danger\"\r\n                 size=\"large\"\r\n                 @click.native=\"purchase\">购买宝贝\r\n      </mt-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>//\r\nimport { http } from '../../tool/http'\r\nimport { Toast } from '../../tool/toast'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'CommodityDetails',\r\n  data () {\r\n    return {\r\n      details: {\r\n        id: null,\r\n        imgList: null,\r\n        content: null,\r\n        title: null,\r\n        price: null,\r\n        LookNumber: null,\r\n        status: null, // 0代表发布,1代表支付了,2代表发货了,3代表取消发布了,4代表完成,5代表纠纷由后台处理\r\n        brandNew: null, // 全新\r\n        info: {\r\n          id: null,\r\n          portrait: null,\r\n          name: null\r\n        },\r\n        logistics: {\r\n          id: null,\r\n          odd: '',\r\n          oddName: '',\r\n          name: null,\r\n          phone: null,\r\n          location: null,\r\n          portrait: null\r\n        }\r\n      },\r\n      logistics: {\r\n        odd: '',\r\n        oddName: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      token: state => !state.user.token,\r\n      info: state => state.user.info\r\n    }),\r\n    isMeOrder () {\r\n      if (this.token || !this.info.id) {\r\n        return 0 // 未登录\r\n      }\r\n      if (this.details.info && this.info.id === this.details.info.id) {\r\n        return 1 // 发布者\r\n      }\r\n      if (this.details.logistics && this.info.id === this.details.logistics.id) {\r\n        return 2 // 购买者\r\n      }\r\n      return false\r\n    },\r\n    addTxt () {\r\n      // 可以修改物流\r\n      return this.details.status * 1 === 1 || this.details.status * 1 === 2\r\n    },\r\n    logisticsTxt () {\r\n      // 0代表发布,1代表支付了,2代表发货了,3代表取消发布了,4代表完成,5代表纠纷由后台处理\r\n      if (this.isMeOrder === 1 && this.details.status > 0) {\r\n        return true\r\n      }\r\n      if (this.isMeOrder === 2 && (this.details.status * 1 === 2 || this.details.status * 1 === 4 || this.details.status * 1 === 5)) {\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  },\r\n  methods: {\r\n    purchase () {\r\n      if (!this.info.id || this.token) {\r\n        Toast('请登陆再购买')\r\n        return\r\n      }\r\n      console.log(this.details.price > this.info.balance, this.details.price, this.info.balance)\r\n      if (this.details.price * 1 > this.info.balance) {\r\n        Toast('余额不足')\r\n        return\r\n      }\r\n      if (!this.info.location) {\r\n        Toast('需要收货地址请添加')\r\n        this.$router.push('/info/amend')\r\n        return\r\n      }\r\n      http.post('/purchase', {\r\n        id: this.$route.query.id\r\n      }).then(value => {\r\n        this.getDetails()\r\n      })\r\n    },\r\n    delTreasure () {\r\n      // 下架商品\r\n      return http.post('/delTreasure', {\r\n        id: this.$route.query.id\r\n      }).then(value => {\r\n        this.getDetails()\r\n      })\r\n    },\r\n    openExpressage () {\r\n      // 修改物流发货\r\n      if (!this.logistics.odd || !this.logistics.oddName) {\r\n        Toast('地址输入错误')\r\n        return\r\n      }\r\n      http.post('/amendExpressage', {\r\n        id: this.$route.query.id,\r\n        odd: this.logistics.odd,\r\n        oddName: this.logistics.oddName\r\n      }).then(value => {\r\n        this.getDetails()\r\n        this.logistics = {\r\n          odd: '',\r\n          oddName: ''\r\n        }\r\n      })\r\n    },\r\n    confirmExpressage () {\r\n      // 确认收货\r\n      http.post('/confirmExpressage', {\r\n        id: this.$route.query.id\r\n      }).then(value => {\r\n        this.getDetails()\r\n      })\r\n    },\r\n    getDetails () {\r\n      http.get('/CommodityDetails', {\r\n        id: this.$route.query.id\r\n      }).then(value => {\r\n        if (value.data) {\r\n          this.details = value.data\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getDetails()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .Commodity-Details {\r\n    .location {\r\n      color: black;\r\n      text-indent: 10px;\r\n\r\n      span {\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    .info-data {\r\n      display: flex;\r\n      flex-flow: row nowrap;\r\n      align-items: center;\r\n      height: 50px;\r\n      margin: 3% 10px;\r\n\r\n      img {\r\n        height: 100%;\r\n        margin-right: 10px;\r\n      }\r\n\r\n      > div {\r\n        height: 100%;\r\n\r\n        p:nth-child(1) {\r\n          font-weight: bold;\r\n          font-size: 1.2em;\r\n\r\n          span {\r\n            color: black;\r\n          }\r\n        }\r\n\r\n        p:nth-child(2) {\r\n          color: black;\r\n          font-weight: bold;\r\n          font-size: 1.2em;\r\n        }\r\n      }\r\n    }\r\n\r\n    .img-List {\r\n      img {\r\n        padding: 0 10px;\r\n        width: 100%;\r\n      }\r\n    }\r\n\r\n    .details-money {\r\n      color: red;\r\n      margin: 0 10px;\r\n      font-size: 2.5em;\r\n      border-bottom: 1px solid #ddd;\r\n      border-top: 1px solid #ddd;\r\n      margin-bottom: 10px;\r\n    }\r\n\r\n    .details-Content {\r\n      font-size: 1.3em;\r\n      padding: 0 10px;\r\n      color: black;\r\n      width: 100%;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      word-wrap: break-word;\r\n      line-height: 1.5em;\r\n      span {\r\n        display: inline-block;\r\n        background-color: red;\r\n        color: white;\r\n        border-radius: 10px;\r\n      }\r\n    }\r\n\r\n    .leaveA-message {\r\n      display: block;\r\n      padding: 10%;\r\n      text-align: center;\r\n      font-size: 2em;\r\n      border-top: 1px solid #ddd;\r\n      border-bottom: 1px solid #ddd;\r\n      margin: 10px 0;\r\n      color: darkorange;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommodityDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommodityDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommodityDetails.vue?vue&type=template&id=a7bbda52&scoped=true&\"\nimport script from \"./CommodityDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./CommodityDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommodityDetails.vue?vue&type=style&index=0&id=a7bbda52&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7bbda52\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommodityDetails.vue?vue&type=style&index=0&id=a7bbda52&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommodityDetails.vue?vue&type=style&index=0&id=a7bbda52&scoped=true&lang=scss&\""],"sourceRoot":""}